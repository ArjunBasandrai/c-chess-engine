#include "board_constants.h"

#ifndef U64
#define U64 unsigned long long
#endif

char ascii_pieces[12] = "PNBRQKpnbrqk";
char *unicode_pieces[12] = {"♙", "♘", "♗", "♖", "♕", "♔", "♟︎", "♞", "♝", "♜", "♛", "♚"};
int char_pieces[] = {
    ['P'] = P,
    ['N'] = N,
    ['B'] = B,
    ['R'] = R,
    ['Q'] = Q,
    ['K'] = K,
    ['p'] = p,
    ['n'] = n,
    ['b'] = b,
    ['r'] = r,
    ['q'] = q,
    ['k'] = k
};

char files[8] = {
    'a',
    'b',
    'c',
    'd',
    'e',
    'f',
    'g',
    'h'
};

const char *square_to_coordinate[] = {
    "a8", "b8", "c8", "d8", "e8", "f8", "g8", "h8",
    "a7", "b7", "c7", "d7", "e7", "f7", "g7", "h7",
    "a6", "b6", "c6", "d6", "e6", "f6", "g6", "h6",
    "a5", "b5", "c5", "d5", "e5", "f5", "g5", "h5",
    "a4", "b4", "c4", "d4", "e4", "f4", "g4", "h4",
    "a3", "b3", "c3", "d3", "e3", "f3", "g3", "h3",
    "a2", "b2", "c2", "d2", "e2", "f2", "g2", "h2",
    "a1", "b1", "c1", "d1", "e1", "f1", "g1", "h1"
};

const U64 not_a_file = 18374403900871474942ULL;
const U64 not_h_file = 9187201950435737471ULL;
const U64 not_hg_file = 4557430888798830399ULL;
const U64 not_ab_file = 18229723555195321596ULL;

const int bishop_relevant_bits[64] = {
    6, 5, 5, 5, 5, 5, 5, 6, 
    5, 5, 5, 5, 5, 5, 5, 5, 
    5, 5, 7, 7, 7, 7, 5, 5, 
    5, 5, 7, 9, 9, 7, 5, 5, 
    5, 5, 7, 9, 9, 7, 5, 5, 
    5, 5, 7, 7, 7, 7, 5, 5, 
    5, 5, 5, 5, 5, 5, 5, 5, 
    6, 5, 5, 5, 5, 5, 5, 6
};

const int rook_relevant_bits[64] = {
    12, 11, 11, 11, 11, 11, 11, 12, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    12, 11, 11, 11, 11, 11, 11, 12
};

const int castling_rights[64] = {
     7, 15, 15, 15,  3, 15, 15, 11,
    15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15,
    15, 15, 15, 15, 15, 15, 15, 15,
    13, 15, 15, 15, 12, 15, 15, 14
};

const int material_score[2][12] =
{
    82, 337, 365, 477, 1025, 12000, -82, -337, -365, -477, -1025, -12000,
    
    94, 281, 297, 512,  936, 12000, -94, -281, -297, -512,  -936, -12000
};

const int opening_phase_score = 6192;
const int endgame_phase_score = 518;

int positional_score[2][6][64] = {
    0, 0, 0, 0, 0, 0, 0, 0, 
85, 121, 48, 82, 55, 113, 21, -11, 
-6, 0, 13, 18, 52, 43, 12, -20, 
-14, 0, 0, 8, 10, 0, 4, -23, 
-27, -2, -5, 0, 4, 6, 0, -22, 
-26, 0, 0, 0, 3, 3, 20, -12, 
-35, -1, -7, -10, -2, 11, 25, -22, 
0, 0, 0, 0, 0, 0, 0, 0, 

-154, -76, -34, -49, 48, -97, -15, -107, 
-60, -41, 59, 23, 23, 49, 0, -17, 
-47, 47, 24, 52, 71, 116, 60, 31, 
-9, 4, 6, 40, 24, 56, 5, 22, 
0, 4, 3, 0, 15, 6, 21, 0, 
-10, 0, 0, 10, 19, 4, 25, -3, 
-16, -40, 0, 0, 0, 18, -1, -6, 
-92, -8, -45, -20, -4, -15, -6, -10, 

-29, 4, -82, -37, -25, -29, 0, 0, 
-26, 3, -5, 0, 17, 46, 5, -34, 
-3, 24, 30, 27, 22, 37, 24, -2, 
-4, 0, 6, 37, 24, 24, 0, -2, 
0, 0, 0, 13, 21, 0, 10, 0, 
0, 15, 2, 2, 1, 14, 5, 0, 
4, 15, 16, 0, 0, 21, 33, 0, 
-20, 0, -1, -8, 0, 0, -26, -8, 

19, 29, 19, 38, 63, 9, 30, 43, 
14, 19, 45, 49, 67, 54, 13, 31, 
-5, 6, 13, 23, 4, 32, 48, 3, 
-24, -11, 0, 13, 11, 22, -8, -20, 
-23, -26, -12, -1, 0, 0, 0, -10, 
-32, -12, -3, -4, 3, 0, 0, -20, 
-31, -3, -7, 0, 0, 11, 0, -58, 
-6, 0, 1, 4, 3, 0, -24, -13, 

-28, 0, 16, 0, 46, 31, 30, 32, 
-24, -39, -5, 0, -16, 44, 15, 41, 
-13, -17, 0, 0, 16, 43, 34, 44, 
-27, -27, -16, -16, -1, 4, -2, 1, 
0, -26, -9, -10, -2, -4, 0, 0, 
-1, 1, -11, -2, 0, 0, 1, 0, 
-22, 0, 0, 2, 8, 15, 0, 1, 
0, -5, 0, 0, -2, -12, -18, -37, 

-65, 23, 3, -15, -56, -34, 0, 0, 
16, -1, -20, -7, -8, -4, -38, -29, 
0, 11, 0, -16, -20, 0, 9, -22, 
-17, -20, -12, -27, -30, -25, -14, -36, 
-36, 0, -27, -39, -46, -44, -33, -38, 
-1, -1, -9, -33, -31, -17, -2, -14, 
1, 7, 0, -51, -30, -3, 9, 8, 
-2, 36, 12, -41, 8, -15, 11, 14, 


0, 0, 0, 0, 0, 0, 0, 0, 
165, 160, 145, 121, 134, 119, 152, 174, 
81, 87, 72, 54, 43, 40, 69, 71, 
19, 11, 0, 0, -2, 0, 4, 4, 
0, 0, -3, -7, -7, -8, 0, -1, 
0, 0, 0, 0, 0, 0, -1, 0, 
0, 0, 0, 10, 0, 0, 0, -7, 
0, 0, 0, 0, 0, 0, 0, 0, 

-58, -38, -13, -27, -31, -27, -63, -99, 
-25, -8, -25, 0, 0, -25, -24, -52, 
-24, -20, 0, 0, -1, -9, -19, -41, 
-17, 0, 9, 9, 9, 0, 0, -18, 
-17, -6, 3, 12, 3, 4, 0, -5, 
-10, 0, 0, 15, 10, 0, -7, -9, 
-29, -7, 0, 0, 0, -7, -10, -31, 
-16, -38, -10, -2, -9, -5, -37, -51, 

-1, -8, -11, -8, -7, -9, -4, -11, 
0, -4, 7, 0, -3, 0, 0, -1, 
2, -8, 0, 0, -2, 0, 0, 0, 
0, 0, 0, 0, 1, 0, 0, 0, 
0, 0, 0, 6, 0, 0, 0, -9, 
0, 0, 0, 0, 0, 0, 0, -2, 
-1, -5, 0, 0, 4, 0, -2, -14, 
-10, 0, -10, 0, 0, -3, 0, -4, 

0, 0, 5, 2, 0, 12, 0, 0, 
0, 0, 0, 0, -3, 0, 0, 0, 
0, 0, 0, 0, 0, -3, -5, -3, 
0, 0, 0, 0, 0, 0, -1, 0, 
3, 0, 0, 0, -5, -6, -8, -11, 
0, 0, 0, 0, 0, 0, 0, -3, 
0, 0, 0, 2, 0, 0, 0, 0, 
0, 2, 3, -1, -5, -13, 4, -7, 

-9, 9, 9, 14, 14, 6, 0, 7, 
-17, 7, 19, 28, 45, 12, 17, 0, 
-20, 0, 0, 36, 34, 22, 6, 0, 
0, 9, 11, 32, 44, 27, 44, 23, 
-5, 15, 6, 34, 18, 21, 26, 10, 
-3, -27, 2, 0, 9, 4, 0, 0, 
-9, -10, -17, -3, -3, -10, -23, -32, 
-20, -15, -9, -30, 0, -19, -7, -28, 

-74, -35, -18, -18, -11, 2, 0, -17, 
-12, 4, 1, 4, 4, 25, 10, 0, 
0, 4, 10, 2, 7, 32, 31, 0, 
-8, 9, 11, 14, 13, 20, 13, 0, 
-5, 0, 21, 11, 14, 10, 0, 0, 
-6, 0, 11, 21, 23, 16, 7, 0, 
-14, 0, 4, 13, 14, 4, 0, -4, 
-40, -21, -8, 0, -15, -1, -24, -30
};

const int mirror_score[128] = {
	a1, b1, c1, d1, e1, f1, g1, h1,
	a2, b2, c2, d2, e2, f2, g2, h2,
	a3, b3, c3, d3, e3, f3, g3, h3,
	a4, b4, c4, d4, e4, f4, g4, h4,
	a5, b5, c5, d5, e5, f5, g5, h5,
	a6, b6, c6, d6, e6, f6, g6, h6,
	a7, b7, c7, d7, e7, f7, g7, h7,
	a8, b8, c8, d8, e8, f8, g8, h8
};

const int full_depth_moves = 4;
const int reduction_limit = 3;

U64 file_mask[64];
U64 rank_mask[64];
U64 isolated_mask[64];
U64 white_passed_mask[64];
U64 black_passed_mask[64];
U64 connected_mask[2][64];
U64 file_ahead_mask[64];
U64 file_behind_mask[64];

int get_rank[64] = {
    7, 7, 7, 7, 7, 7, 7, 7,
    6, 6, 6, 6, 6, 6, 6, 6,
    5, 5, 5, 5, 5, 5, 5, 5,
    4, 4, 4, 4, 4, 4, 4, 4,
    3, 3, 3, 3, 3, 3, 3, 3,
    2, 2, 2, 2, 2, 2, 2, 2,
    1, 1, 1, 1, 1, 1, 1, 1,
    0, 0, 0, 0, 0, 0, 0, 0
};

int square_color[64];
U64 light_squares = 0xaa55aa55aa55aa55ULL;

s_options engine_options[1];
char engine_name[] = "Shuffle";